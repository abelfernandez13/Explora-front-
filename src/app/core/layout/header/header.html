<header class="flex justify-between items-center max-w-screen-xl mx-auto p-4">
  <img src="assets/logo.png" alt="Logo" class="h-8" loading="lazy" />

  <div class="flex items-center gap-4">
    @if (isAuthenticated()) {
    <img
      [src]="user()?.photoURL || 'assets/avatar-placeholder.png'"
      alt="Avatar"
      width="32"
      height="32"
      class="rounded-full"
      loading="lazy"
    />
    <span class="max-w-[160px] truncate">
      {{ user()?.displayName || user()?.email }}
    </span>

    <button
      type="button"
      (click)="logout()"
      class="px-3 py-1 text-sm rounded bg-red-50 hover:bg-red-100"
    >
      Cerrar sesión
    </button>
    } @else {
    <button
      type="button"
      (click)="openDialog('login')"
      class="px-3 py-1 rounded bg-indigo-600 text-white hover:bg-indigo-700"
    >
      Iniciar sesión
    </button>
    }
  </div>
</header>

@if (loginModal()) {
<app-login-modal (close)="closeLoginModal()" (openRegister)="toRegister()"></app-login-modal>
} @if (registerModal()) {
<app-register-modal (close)="closeRegisterModal()" (switchToLogin)="toLogin()"></app-register-modal>
}
