<a pRipple data-bs-toggle="modal" data-bs-target="#exampleModal" class="flex align-items-center cursor-pointer p-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple">
  <i class="pi pi-home mr-2"></i>
  <span class="font-medium">Agregar Hospedaje </span>
</a>
<!-- Modal -->
 <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="row modal-body">    
          
          <mat-stepper #stepper>
            <mat-step [stepControl]="firstFormGroup">
              <form [formGroup]="firstFormGroup">
                <ng-template matStepLabel>Fill out your name</ng-template>
        
                <mat-form-field>                  
                  <div class="form-group">   
                     <input type="text" matInput id="title" placeholder="Photo's Title" #title required formControlName="firstCtrl">
                </div>

                
                <div class="form-group">   
              
                  <input type="text" matInput id="description" placeholder="Phots's description" #description required formControlName="firstCtrl">
              </div>


                <div class="form-group">
                    <input type="number" matInput id="precio"  formControlName="firstCtrl" placeholder="Precio" #precio required>
                </div>

                <div class="form-group">
                              <input type="number" id="habitaciones" matInput formControlName="firstCtrl" placeholder="habitaciones" #habitaciones required>
                            </div>

                <div class="form-group">
              <input type="number" matInput id="huespedes" formControlName="firstCtrl" placeholder="huespedes" #huespedes required>
              </div>              
             </mat-form-field>
                  <div>
      
                    <button  type="button" class="btn btn-primary" matStepperNext > Next</button>

                  </div>
                </form>
              </mat-step>

              <mat-step [stepControl]="secondFormGroup" optional>
                <form [formGroup]="secondFormGroup">
                  <ng-template matStepLabel>Fill out your address</ng-template>
                  <mat-form-field class="w100">   

                    <div class="form-group">
              <input type="number" style="display: none;" matInput id="huespedes" formControlName="secondCtrl"  #huespedes required  [disabled]="true">
              </div>  

      <div class="form-group">
   
        <!-- <app-upload-images formControlName="secondCtrl" (change)=" onSelectedFiles($event)" #photoInput ></app-upload-images> -->
<div class="card card1">
    <p-toast />
    <p-fileUpload name="myfile[]" url="https://www.primefaces.org/cdn/api/upload.php" [multiple]="true" accept="image/*" maxFileSize="1000000" (onUpload)="onTemplatedUpload()" (onSelect)="onSelectedFiles($event)">
        <ng-template pTemplate="header" let-files let-chooseCallback="chooseCallback" let-clearCallback="clearCallback" let-uploadCallback="uploadCallback">
            <div class="flex flex-wrap justify-content-between align-items-center flex-1 gap-2">
                <div class="flex gap-2">
                    <p-button (onClick)="choose($event, chooseCallback)" icon="pi pi-images" [rounded]="true" [outlined]="true" />
                    <p-button (onClick)="uploadEvent(uploadCallback)" icon="pi pi-cloud-upload" [rounded]="true" [outlined]="true" severity="success" [disabled]="!files || files.length === 0" />
                    <p-button (onClick)="clearCallback()" icon="pi pi-times" [rounded]="true" [outlined]="true" severity="danger" [disabled]="!files || files.length === 0" />
                </div>
                <p-progressBar [value]="totalSizePercent" [showValue]="false" styleClass="md:w-20rem h-1rem w-full md:ml-auto" [ngClass]="{ 'exceeded-progress-bar': totalSizePercent > 100 }">
                    <span class="white-space-nowrap">{{ totalSize }}B / 1Mb</span>
                </p-progressBar>
            </div>
        </ng-template>
        <ng-template pTemplate="content" let-files let-uploadedFiles="uploadedFiles" let-removeFileCallback="removeFileCallback" let-removeUploadedFileCallback="removeUploadedFileCallback">
            <div *ngIf="files?.length > 0">
                <h5>Pending</h5>
                <div class="flex flex-wrap p-0 sm:p-5 gap-5">
                    <div *ngFor="let file of files; let i = index" class="card m-0 px-6 flex flex-column border-1 surface-border align-items-center gap-3">
                        <div>
                            <img role="presentation" [alt]="file.name" [src]="file.objectURL" width="100" height="50" />
                        </div>
                        <span class="font-semibold">{{ file.name }}</span>
                        <div>{{ formatSize(file.size) }}</div>
                        <p-badge value="Pending" severity="warning" />
                        <p-button icon="pi pi-times" (onClick)="onRemoveTemplatingFile($event, file, removeFileCallback, index)" [outlined]="true" [rounded]="true" severity="danger" />
                    </div>
                </div>
            </div>
            <div *ngIf="uploadedFiles?.length > 0">
                <h5>Completed</h5>
                <div class="flex flex-wrap p-0 sm:p-5 gap-5">
                    <div *ngFor="let file of uploadedFiles; let i = index" class="card m-0 px-6 flex flex-column border-1 surface-border align-items-center gap-3">
                        <div>
                            <img role="presentation" [alt]="file.name" [src]="file.objectURL" width="100" height="50" />
                        </div>
                        <span class="font-semibold">{{ file.name }}</span>
                        <div>{{ formatSize(file.size) }}</div>
                        <p-badge value="Completed" class="mt-3" severity="success" />
                        <p-button icon="pi pi-times" (onClick)="removeUploadedFileCallback(index)" [outlined]="true" [rounded]="true" severity="danger" />
                    </div>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="file"> </ng-template>
        <ng-template pTemplate="empty">
            <div class="flex align-items-center justify-content-center flex-column">
                <i class="pi pi-cloud-upload border-2 border-circle p-5 text-8xl text-400 border-400"></i>
                <p class="mt-4 mb-0">Drag and drop files here to upload.</p>
            </div>
        </ng-template>
    </p-fileUpload>
</div>
 
       </div> 
                  </mat-form-field>
                  <div>
                    <button type="button" class="btn2 btn btn-primary" matStepperPrevious>Back</button>
                    <button  type="button" class="btn3 btn btn-primary" matStepperNext>Next</button>
                  </div>
                     
             
                </form>
              </mat-step>
           
             <mat-step [stepControl]="threeFormGroup" optional>
                    <form [formGroup]="threeFormGroup">
                  <ng-template matStepLabel>Ubicacion</ng-template>
                  <mat-form-field class="w100"> 
         <!-- Campo de direcciÃ³n -->
<input
    type="text"
    placeholder="Ej: Av. Reforma, CDMX"
    [(ngModel)]="direccion"
    (blur)="buscarUbicacion()"
    class="form-control"
    matInput
    id="ubicacion" formControlName="threeCtrl"
    #ubicacion
  />
  <!-- <button (click)="buscarUbicacion()">Buscar</button> -->

  <div *ngIf="lat && lng" style="height: 500px; margin-top: 50px;">
    <google-map
      [center]="{ lat: lat, lng: lng }"
      [zoom]="zoom"
      height="100%"
      width="100%">
      <map-marker [position]="{ lat: lat, lng: lng }"></map-marker>
    </google-map>
  </div>
                 </mat-form-field>  
     <div>
                    <button type="button" class="btn2 btn btn-primary" matStepperPrevious>Back</button>
                    <button  type="button" class="btn3 btn btn-primary" matStepperNext>Next</button>
                  </div>
              </form>
             </mat-step>
           
           
              <mat-step>
                <ng-template matStepLabel>Done</ng-template>
                <p>You are now done.</p>
                <div>
                  <button mat-button matStepperPrevious>Back</button>
                  <button mat-button (click)="stepper.reset()">Reset</button>
                </div>
                     <button (click)="enviarDatos(title,description,precio,habitaciones,huespedes,ubicacion)" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
  
              </mat-step>
           <div>  
        </div>
      <div>
    </div>
 <div>
 